<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1.1 什么是高阶函数？ | RoseJS</title>
    <meta name="description" content="RoseJS的前端记录">
    <link rel="icon" href="/rose.png">
    
    <link rel="preload" href="/assets/css/0.styles.7e9a828c.css" as="style"><link rel="preload" href="/assets/js/app.4f1719ca.js" as="script"><link rel="preload" href="/assets/js/2.cb0c23de.js" as="script"><link rel="preload" href="/assets/js/20.bd02cfb2.js" as="script"><link rel="prefetch" href="/assets/js/10.f37cc2b6.js"><link rel="prefetch" href="/assets/js/11.35afac06.js"><link rel="prefetch" href="/assets/js/12.dd3effca.js"><link rel="prefetch" href="/assets/js/13.767387c6.js"><link rel="prefetch" href="/assets/js/14.bf949555.js"><link rel="prefetch" href="/assets/js/15.a35b6aa2.js"><link rel="prefetch" href="/assets/js/16.11afc354.js"><link rel="prefetch" href="/assets/js/17.6d86da21.js"><link rel="prefetch" href="/assets/js/18.86c746c3.js"><link rel="prefetch" href="/assets/js/19.bae117f0.js"><link rel="prefetch" href="/assets/js/21.a6524c40.js"><link rel="prefetch" href="/assets/js/22.9f8609ce.js"><link rel="prefetch" href="/assets/js/23.2ead459d.js"><link rel="prefetch" href="/assets/js/24.90f93ff9.js"><link rel="prefetch" href="/assets/js/25.ce012635.js"><link rel="prefetch" href="/assets/js/26.d375e0bc.js"><link rel="prefetch" href="/assets/js/27.f92c59e6.js"><link rel="prefetch" href="/assets/js/28.b6562b7c.js"><link rel="prefetch" href="/assets/js/29.a8660578.js"><link rel="prefetch" href="/assets/js/3.32865129.js"><link rel="prefetch" href="/assets/js/30.27028039.js"><link rel="prefetch" href="/assets/js/31.fafb5c65.js"><link rel="prefetch" href="/assets/js/4.b419a985.js"><link rel="prefetch" href="/assets/js/5.f637b59b.js"><link rel="prefetch" href="/assets/js/6.5fda4061.js"><link rel="prefetch" href="/assets/js/7.fd7cdf9e.js"><link rel="prefetch" href="/assets/js/8.c5d20f91.js"><link rel="prefetch" href="/assets/js/9.ee96776a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7e9a828c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/rose.png" alt="RoseJS" class="logo"> <span class="site-name can-hide">RoseJS</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/deep/" class="nav-link">deep</a></div><div class="nav-item"><a href="/pages/interview/" class="nav-link">interview</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/pages/deep/" class="nav-link">deep</a></div><div class="nav-item"><a href="/pages/interview/" class="nav-link">interview</a></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h4 id="_1-1-什么是高阶函数？"><a href="#_1-1-什么是高阶函数？" class="header-anchor">#</a> 1.1 什么是高阶函数？</h4> <p>1 一个函数做为另一个函数的参数</p> <p>2 返回一个函数</p> <p>高阶函数英文叫Higher-order function, 它的定义很简单，就是至少满足下列一个条件的函数：</p> <ul><li>接受一个或多个函数作为输入</li> <li>输出一个函数</li></ul> <p>也就是说高阶函数是对其他函数进行操作的函数，可以将它们作为参数传递，或者是返回它们。简单来说，</p> <p>高阶函数是一个<strong>接收函数作为参数传递</strong>或者<strong>将函数作为返回值输出</strong>的函数。</p> <h4 id="_1-2-函数作为参数传递"><a href="#_1-2-函数作为参数传递" class="header-anchor">#</a> 1.2 函数作为参数传递</h4> <p>JavaScript语言中内置了一些高阶函数，比如Array.prototype.map, Array.prototype.filter和Array.prototype.reduce,它们<strong>接受一个函数作为参数</strong>，并应用这个函数到列表的每一个元素。我们</p> <p>来看看使用它们与不使用高阶函数的方案对比。</p> <h4 id="_1-2-1-array-prototype-map"><a href="#_1-2-1-array-prototype-map" class="header-anchor">#</a> 1.2.1 Array.prototype.map</h4> <p>map()方法创建一个新数组，其结果是该数组中的每一个元素都调用一个提供的函数后返回的结果，</p> <p><strong>原始数组不会改变</strong>。传递给map的回调函数(callback)接受三个参数，分别是currentValue、</p> <p>index(可选)、array(可选)，除了callback之外还可以接受this值(可选)，用于执行</p> <p>callback函数时使用的this值。</p> <p>来个简单的例子方便理解，现在有一个数组[1,2,3,4],我们想要生成一个新数组，其每个元素皆是</p> <p>之前数组的两倍，那么我们有下面两种使用高阶和不使用高阶函数的方式来实现。</p> <p><strong>不使用高阶函数</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>arr1<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    arr2<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [2,4,6,8] </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1,2,3,4] </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>使用高阶函数</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> arr2 <span class="token operator">=</span> arr1<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> item <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [2,4,6,8] </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1,2,3,4] </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_1-2-2-array-prototype-filter"><a href="#_1-2-2-array-prototype-filter" class="header-anchor">#</a> 1.2.2 Array.prototype.filter</h4> <p>filter() 方法创建一个新数组，其包含通过提供函数实现的测试的所有元素，<strong>原始数组不会改变</strong>。接收的</p> <p>参数和map是一样的，其返回值是一个新数组，由测试的所有元素组成，如果没有任何数组元素通过测试，</p> <p>则返回空数组。</p> <p>来个例子介绍下，现在有一个数组 [1,2,1,2,3,5,4,5,3,4,4,4,4], 我们想要生成一个新数组，这个数组要求</p> <p>没有重复的内容，即为去重。</p> <p><strong>不使用高阶函数</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">const</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span> arr1<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>arr1<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>arr1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">===</span> i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        arr2<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [1,2,3,5,4]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr1<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [1, 2,1,2,3,5,4,5,3,4,4,4,4];</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>使用高阶函数</strong></p> <h4 id="_1-2-3-array-prototype-reduce"><a href="#_1-2-3-array-prototype-reduce" class="header-anchor">#</a> 1.2.3 Array.prototype.reduce</h4> <h4 id="_1-3-函数作为返回值输出"><a href="#_1-3-函数作为返回值输出" class="header-anchor">#</a> 1.3 函数作为返回值输出</h4> <h4 id="_1-3-1-istype函数"><a href="#_1-3-1-istype函数" class="header-anchor">#</a> 1.3.1 isType函数</h4> <h4 id="_1-3-2-add函数"><a href="#_1-3-2-add函数" class="header-anchor">#</a> 1.3.2 add函数</h4> <h4 id="_1-4-思考题"><a href="#_1-4-思考题" class="header-anchor">#</a> 1.4 思考题</h4></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">lastUpdate:</span> <span class="time">12/7/2019, 2:42:48 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.4f1719ca.js" defer></script><script src="/assets/js/2.cb0c23de.js" defer></script><script src="/assets/js/20.bd02cfb2.js" defer></script>
  </body>
</html>
